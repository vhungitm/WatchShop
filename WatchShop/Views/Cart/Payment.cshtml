@model List<Model.CartItem>
@{
    ViewBag.Title = "Thanh toán";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="bg-white p-5">
    <table width="100%" class="table-bordered table-light" cellpadding="5" cellspacing="5">
        <thead>
            <tr align="center">
                <th>Sản phẩm</th>
                <th>Số lượng</th>
                <th>Giá</th>
                <th>Tổng tiền</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        <div class="d-flex">
                            <img src="@item.Product.Image" width="50" height="50" alt="@item.Product.Name" />
                            <div>
                                @item.Product.Name
                            </div>
                        </div>
                    </td>
                    <td>
                        @item.Quantity.ToString("N0")
                    </td>
                    <td>

                        @if (item.Product.PromotionPrice == 0)
                        {
                            <span>@(item.Product.Price.ToString("N0"))đ</span>
                        }
                        else
                        {
                            <span>@(item.Product.PromotionPrice.ToString("N0"))đ</span>
                        }

                    </td>
                    <td>
                        @if (item.Product.PromotionPrice == 0)
                        {
                            <span>@((item.Product.Price * item.Quantity).ToString("N0"))đ</span>
                        }
                        else
                        {
                            <span>@((item.Product.PromotionPrice * item.Quantity).ToString("N0"))đ</span>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div class="container d-flex justify-content-center">
        <div class="mt-5" style="width: 500px">
            <h3 class="text-center mb-5">Thông Tin Nhận Hàng</h3>
            @using (Html.BeginForm("Payment", "Cart", FormMethod.Post))
            {
                <div class="form-group">
                    <label>Người nhận</label>
                    <input name="shipName" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Điện thoại</label>
                    <input name="mobile" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Địa chỉ</label>
                    <input name="address" class="form-control" />
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input name="email" class="form-control" />
                </div>
                <button type="submit" class="btn btn-icon-split btn-primary mt-3">
                    <span class="icon text-white-50">
                        <i class="fas fa-file-import">
                        </i>
                    </span>
                    <span class="text">
                        Gửi đơn hàng
                    </span>
                </button>
            }
        </div>
    </div>
</div>
