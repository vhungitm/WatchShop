@model PagedList.IPagedList<Model.EF.Content>
@using PagedList.Mvc
@{
    ViewBag.Title = "Tin tức, sự kiện";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="p-5">
    <div class="row">
        <div class="col-lg-8">
            @if (Model.Count > 0)
            {
                <div class="row g-4 row-cols-1 row-cols-md-2 row-cols-xl-3">
                    @foreach (var item in Model)
                    {
                        <div class="col">
                            <a href="/Tin-tuc/@item.MetaTitle-@item.ID" class="text-dark">
                                <div class="card shadow o-hidden text-center" style="height: 100%">
                                    <img src="@item.Image" alt="@item.Name" style="width: 100%; height: 200px" />
                                    <div class="card-body pb-0">
                                        <h6 class="card-title">
                                            @item.Name
                                        </h6>
                                    </div>
                                    <div class="card-footer bg-white border-0 pt-0">
                                        <small>
                                            <i class="fas fa-calendar me-1"></i>@item.CreatedDate.Value.ToString("dd/MM/yyyy") -
                                            <i class="fas fa-user mx-1"></i>@item.CreatedBy
                                        </small>
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                </div>
            }
            else
            {
                <div class="alert alert-danger mb-0">Không có sản phẩm!</div>
            }


            <div class="mt-4">
                @if (Model.PageCount > 1)
                {
                    <div class="mb-2 text-center">Trang @Model.PageNumber / @Model.PageCount</div>

                    @Html.PagedListPager(Model, page => Url.Action("Index", new { page, @searchString = @ViewBag.SearchString }), new PagedListRenderOptions
                    {
                       MaximumPageNumbersToDisplay = 5,
                       ContainerDivClasses = new string[] { "pagination-container d-flex justify-content-center" },
                       UlElementClasses = new string[] { "pagination mb-0" },
                       DisplayLinkToPreviousPage = PagedListDisplayMode.Always,
                       DisplayLinkToNextPage = PagedListDisplayMode.Always,
                       LinkToPreviousPageFormat = "Trước",
                       LinkToNextPageFormat = "Sau",
                       LinkToFirstPageFormat = "Đầu",
                       LinkToLastPageFormat = "Cuối"
                    })
                }
            </div>
        </div>
        <div class="col-lg-4">
            @{Html.RenderAction("NavContent", "Content");}
        </div>
    </div>
</div>
